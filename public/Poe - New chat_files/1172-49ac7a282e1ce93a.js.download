"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1172],{35568:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HandleBotLandingPageInner_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForLoggedOutUsage",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatPageMain_bot"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{args:null,kind:"FragmentSpread",name:"OptimisticChatPageMain_bot"},{args:null,kind:"FragmentSpread",name:"optimisticChat_useOptimisticChat_bot"}],type:"Bot",abstractKey:null};n.hash="1622c944aff9e92b1e27ab780a63e71d",a.default=n},26665:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HandleBotLandingPageInner_chatEdges",selections:[{args:null,kind:"FragmentSpread",name:"OptimisticChatPageMain_chatEdges"}],type:"ChatEdge",abstractKey:null};n.hash="147b547d96229c7df9235714972d3481",a.default=n},58315:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HandleBotLandingPageInner_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"isLoggedOutUsageEnabled",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OptimisticChatPageMain_viewer"},{args:null,kind:"FragmentSpread",name:"SprigSurvey_viewer"},{args:null,kind:"FragmentSpread",name:"ChatPageNavbar_viewer"}],type:"Viewer",abstractKey:null};n.hash="a30e4033c743773d909585960af18212",a.default=n},87430:function(e,a,l){var n,i,s,t,r,u,o,d,g,c,m,y,k,p;l.r(a);let F=(n=[{defaultValue:null,kind:"LocalArgument",name:"botHandle"}],i=[{kind:"Variable",name:"name",variableName:"botHandle"}],s={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"isEligibleForLoggedOutUsage",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"isLoggedOutUsageEnabled",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},y={kind:"TypeDiscriminator",abstractKey:"__isNode"},k=[{kind:"Literal",name:"first",value:1},r={kind:"Variable",name:"handle",variableName:"botHandle"}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"HandleBotLandingPageQuery",selections:[{alias:null,args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,t,{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_bot"}],storageKey:null},{alias:"chats",args:[r],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_chatEdges"},u,{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[o],storageKey:null}],storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[g,{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[c],storageKey:null},{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"HandleBotLandingPageQuery",selections:[{alias:null,args:i,concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,t,m,{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},c,y],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseBotId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerIsFollower",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareLink",storageKey:null},y],storageKey:null},{alias:null,args:k,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},c,o],storageKey:null},u,c],storageKey:null},d,c],storageKey:null},{alias:null,args:k,filters:["handle"],handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[g,{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[c,p={alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null}],storageKey:null},{alias:"allowDragDrop",args:[{kind:"Literal",name:"gateName",value:"poe_file_drag_and_drop"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_drag_and_drop")'},{alias:"allowImages",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images")'},{alias:"allowImagesForApiBots",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images_for_api_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images_for_api_bots")'},{alias:"enableImageViewer",args:[{kind:"Literal",name:"gateName",value:"poe_web_image_viewer"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_image_viewer")'},{alias:null,args:null,kind:"ScalarField",name:"promptBotImageDomainWhitelist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasActiveSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebSubscriptions",storageKey:null},{alias:null,args:null,concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"expiresTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"willCancelAtPeriodEnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"purchaseRevocationReason",storageKey:null}],storageKey:null},{alias:"useNewLimitSystem",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_limit_system_frontend"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_limit_system_frontend")'},p,{alias:"enableResendButton",args:[{kind:"Literal",name:"gateName",value:"poe_resend_button_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_resend_button_web")'},{alias:"retryButtonEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_message_retry_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_message_retry_button")'},{alias:"poeMessageDropdownImageOptions",args:[{kind:"Literal",name:"gateName",value:"poe_message_dropdown_image_options"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_dropdown_image_options")'},{alias:"showTruncationWarning",args:[{kind:"Literal",name:"gateName",value:"poe_show_truncation_warning"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_truncation_warning")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},{alias:"improvePrivacyConfidence",args:[{kind:"Literal",name:"gateName",value:"poe_improve_privacy_confidency"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_improve_privacy_confidency")'},{alias:"enableBotMetadata",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_metadata_user_view"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_metadata_user_view")'},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[m,c],storageKey:null},{alias:"voiceInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_voice_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_voice_input")'},{alias:"fileInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload")'},{alias:"ignoreFileUploadLimit",args:[{kind:"Literal",name:"gateName",value:"ignore_poe_file_upload_limit"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"ignore_poe_file_upload_limit")'},{alias:"shouldUseRefactor",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_chat_helpers_refactor"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_chat_helpers_refactor")'},c],storageKey:null}]},params:{id:"7f06985a6204b906a804e8c597058106d1e9d4b305bf0cb95e3c50e5caaa88ac",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["chats"]}]},name:"HandleBotLandingPageQuery",operationKind:"query",text:null}});F.hash="acc53f017cd51c4e5099abcfa9c29d75",a.default=F},34253:function(e,a,l){var n,i,s,t;l.r(a);let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",metadata:null,name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHeader_chat"}],storageKey:null}]}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"HandleBotOptimisticChatHeaderQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},s,t={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},t],storageKey:null}]}]},params:{cacheID:"d940a28fe531437684fe7263121ea42b",id:null,metadata:{},name:"HandleBotOptimisticChatHeaderQuery",operationKind:"query",text:null}};r.hash="ccb42017d2fad2fb8bdc3521c4a4a5bd",a.default=r},56352:function(e,a,l){var n,i,s,t,r,u,o;l.r(a);let d={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",metadata:null,name:"OptimisticChatPageMainQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_chat"}],storageKey:null}]}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"OptimisticChatPageMainQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},s,r={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseBotId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasMarkdownRendering",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowDisclaimer",storageKey:null},{alias:null,args:o=[{kind:"Literal",name:"last",value:5}],concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"messageId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textLengthOnCancellation",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timeoutLevel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offlineError",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attachmentTruncationState",storageKey:null},{alias:null,args:null,concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mimeType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},s],storageKey:null}],type:"Attachment",abstractKey:"__isAttachment"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientNonce",storageKey:null},u,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},s],storageKey:"messagesConnection(last:5)"},{alias:null,args:o,filters:null,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},r],storageKey:null}]}]},params:{cacheID:"6bfbdaf91296d5f97c1569126c70383d",id:null,metadata:{},name:"OptimisticChatPageMainQuery",operationKind:"query",text:null}};d.hash="5c437a8d087843ccbf8dbd501ba55146",a.default=d},47430:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OptimisticChatPageMain_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{args:null,kind:"FragmentSpread",name:"chatHelpers_useSendNewChatMessage_bot"}],type:"Bot",abstractKey:null};n.hash="1b15a118a7f23c1d188655e38328ef71",a.default=n},88593:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"OptimisticChatPageMain_chatEdges",selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_chatEdges"}],type:"ChatEdge",abstractKey:null};n.hash="c277a063d0a7edce0bdedd70c44bd153",a.default=n},50509:function(e,a,l){l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OptimisticChatPageMain_viewer",selections:[{args:null,kind:"FragmentSpread",name:"ChatPageMain_viewer"}],type:"Viewer",abstractKey:null};n.hash="ab46e6124989588c4c69b76f108e6bd0",a.default=n},42456:function(e,a,l){var n,i;l.r(a);let s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"subscriptions"}],kind:"Fragment",metadata:null,name:"loggedOutUsageHelper_maybeCreateLoggedOutUser_Mutation",selections:i=[{alias:null,args:[{kind:"Variable",name:"subscriptions",variableName:"subscriptions"}],concreteType:"MaybeCreateLoggedOutUser",kind:"LinkedField",name:"maybeCreateLoggedOutUser",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"loggedOutUsageHelper_maybeCreateLoggedOutUser_Mutation",selections:i},params:{id:"2393095ccd7324f6cef5f198a016fbb39e17884fa69e0b210ba2b553eb0943a2",metadata:{},name:"loggedOutUsageHelper_maybeCreateLoggedOutUser_Mutation",operationKind:"mutation",text:null}};s.hash="757104d490a7a5266b73de1f089fa515",a.default=s},31172:function(e,a,l){l.r(a),l.d(a,{BotLandingPageInner:function(){return D},BotPageLazyChatLoaders:function(){return U},checkLoggedOutUsageEligibilityAndThrowRedirectionError:function(){return E},default:function(){return R},getBotHandle:function(){return O},throwRedirectionErrorForBotHandle:function(){return P},useArgs:function(){return B}});var n=l(85893),i=l(5152),s=l.n(i),t=l(11163),r=l(22578);l(44311);var u=l(64180),o=l(57890),d=l(41143),g=l.n(d),c=l(67294),m=l(71289),y=l(57138),k=l(82771),p=e=>{let{optimisticChatId:a,chats:i,viewer:s,bot:u}=e,o=(0,r.useFragment)(l(47430),u),d=(0,r.useFragment)(l(50509),s),p=(0,r.useFragment)(l(88593),i),{optimisticChat:F}=(0,r.useLazyLoadQuery)(l(56352),{optimisticChatId:a});if(!F)throw new y.TX;let K=(0,t.useRouter)(),S=(0,c.useCallback)(e=>{let{messageEdgeCreate:a}=e,l=a.chat;g()(l,"chat is null"),K.push({pathname:K.pathname,query:{...K.query,chat:l.chatCode,botId:l.defaultBotObject.botId}},"/chat/".concat(l.chatCode),{shallow:!0})},[K]),b=(0,m.ZD)(o,S),h=(0,c.useCallback)(e=>b({...e,optimisticChatId:a}),[b,a]);return(0,n.jsx)(k.Z,{chat:F,chats:p,viewer:d,sendMessage:h,onSuccessfulMessageSend:S})},F=l(42050),K=l(50515),S=l(19440),b=l(75408);let h=l(42456),_=e=>{let{isLoggedIn:a,isLoggedOutUsageEnabled:l}=e,[n]=(0,r.useMutation)(h);(0,c.useEffect)(()=>{!a&&l&&n({variables:{subscriptions:b.yW.subscriptions}})},[])};var f=l(55554),L=l(19547),w=l(38726),C=l(46857),v=l(77573),T=l(50530),N=l(20308);let B=()=>{let e=(0,t.useRouter)(),{botId:a,chat:l}=e.query;if(!(0,T.HD)(a))return null;let n=parseInt(a);return isNaN(n)?null:(0,T.HD)(l)?{chatCode:l,botId:n}:null},I=s()(()=>Promise.all([l.e(278),l.e(8985),l.e(2533)]).then(l.bind(l,58985)),{loadableGenerated:{webpack:()=>[58985]},ssr:!1}),U=()=>{let e=(0,N.Z)(),a=B();return e?(0,n.jsx)(I,{...a}):null},O=e=>{let a=null==e?void 0:e.handle;if(!(0,T.HD)(a))throw new y.TX;return{botHandle:a}},P=e=>{throw new y.dD("/universal_link_page?handle=".concat(encodeURIComponent(e)))},E=e=>{let{isLoggedIn:a,isLoggedOutUsageEnabled:l,isBotEligibleForLoggedOutUsage:n,botHandle:i}=e;a||!l||n||P(i)},M=e=>{let{optimisticChatId:a}=e,{optimisticChat:i}=(0,r.useLazyLoadQuery)(l(34253),{optimisticChatId:a});if(!i)throw new y.TX;return(0,n.jsx)(u.Z,{chat:i})},D=e=>{let{viewer:a,bot:i,optimisticChatId:s,chats:t}=e;if(!i)throw new y.TX;let u=(0,r.useFragment)(l(35568),i),d=(0,r.useFragment)(l(26665),t),g=(0,r.useFragment)(l(58315),a);if(!g.poeUser&&!g.isLoggedOutUsageEnabled)throw new y.TX;E({isLoggedIn:!!g.poeUser,isLoggedOutUsageEnabled:g.isLoggedOutUsageEnabled,isBotEligibleForLoggedOutUsage:u.isEligibleForLoggedOutUsage,botHandle:u.displayName}),_({isLoggedIn:!!g.poeUser,isLoggedOutUsageEnabled:g.isLoggedOutUsageEnabled}),(0,C.Rz)(),(0,v.f)(g);let c=(0,f.t3)(u,s);return(0,n.jsxs)(F.Z,{header:(0,n.jsx)(o.Z,{viewer:g,bot:u,useChatTitle:!0,children:(0,n.jsx)(M,{optimisticChatId:c})}),startAtBottom:!0,children:[(0,n.jsx)(K.Z,{title:"Poe - "+u.displayName}),(0,n.jsx)(p,{optimisticChatId:c,bot:u,viewer:g,chats:d})]})},H=(0,L.x)((0,S.Z)((0,w.i)(e=>{let{data:a}=e,l=B();return(0,n.jsxs)(n.Fragment,{children:[!l&&(0,n.jsx)(D,{bot:a.bot,chats:a.chats.edges,viewer:a.viewer}),(0,n.jsx)(U,{})]})},{query:l(87430),variables:O,onServerResponse:e=>{var a,l;if(!(null===(a=e.data)||void 0===a?void 0:a.bot)||!(null===(l=e.data)||void 0===l?void 0:l.viewer))throw new y.TX;let{bot:n,viewer:i}=e.data;E({isLoggedIn:!!i.poeUser,isLoggedOutUsageEnabled:i.isLoggedOutUsageEnabled,isBotEligibleForLoggedOutUsage:n.isEligibleForLoggedOutUsage,botHandle:n.displayName})}},{onViewerState:e=>{let{isLoggedIn:a,isLoggedOutUsageEnabled:l,params:n}=e;if(!a&&!l)throw(0,T.HD)(null==n?void 0:n.handle)&&P(n.handle),new y.dD("/login")}}),O));var R=H}}]);