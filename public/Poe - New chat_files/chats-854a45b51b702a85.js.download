(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7044],{86867:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chats",function(){return l(57509)}])},26905:function(e,a,l){"use strict";var n,t,i,s,r,o,u,d;l.r(a);let c=(n=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],i=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},t={kind:"Variable",name:"handle",variableName:"handle"}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"ChatHistoryFilteredListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},t],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHistoryFilteredListPaginationQuery",selections:[{alias:"filteredChats",args:i,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},s],storageKey:null},{alias:null,args:u=[{kind:"Literal",name:"last",value:2}],concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},s,o],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},s],storageKey:"messagesConnection(last:2)"},{alias:null,args:u,filters:null,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},o,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},d,s],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},s],storageKey:null},{alias:"filteredChats",args:i,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[r,s],storageKey:null}]},params:{id:"47da1e74c53f6d0e0099389bd91b805b77c579807b926aa95d80d6721b6ac227",metadata:{},name:"ChatHistoryFilteredListPaginationQuery",operationKind:"query",text:null}});c.hash="b3345c874d1c4fdc62d7dabdb7768b9d",a.default=c},31233:function(e,a,l){"use strict";var n;l.r(a);let t={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["filteredChats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:[],operation:l(26905)}},name:"ChatHistoryFilteredList_queryRoot",selections:[{alias:"filteredChats",args:[{kind:"Variable",name:"handle",variableName:"handle"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryFilteredList_queryRoot_filteredChats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryListFilterFooter_bot"},{args:null,kind:"FragmentSpread",name:"ChatHistoryListFilterHeader_bot"}],storageKey:null}],type:"QueryRoot",abstractKey:null};t.hash="b3345c874d1c4fdc62d7dabdb7768b9d",a.default=t},20039:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHistoryListFilterFooter_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null};n.hash="521c676908f23048956c9f3e7cfa7a8b",a.default=n},27558:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHistoryListFilterHeader_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null};n.hash="1693d380b0561caa477376bfca76665d",a.default=n},80894:function(e,a,l){"use strict";var n,t,i,s,r,o;l.r(a);let u={fragment:{argumentDefinitions:n=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"ChatHistoryListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHistoryListPaginationQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},i],storageKey:null},{alias:null,args:r=[{kind:"Literal",name:"last",value:2}],concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},i,s],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},i],storageKey:"messagesConnection(last:2)"},{alias:null,args:r,filters:null,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},s,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},o,i],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},i],storageKey:null},{alias:null,args:t,filters:null,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},params:{id:"808e3f67fd13e64185607c0516277fe0ae48624c5b3b0e1a221d4ea72ecdaadb",metadata:{},name:"ChatHistoryListPaginationQuery",operationKind:"query",text:null}};u.hash="dde16d83009bf18f7f6de7144ec92cdc",a.default=u},22256:function(e,a,l){"use strict";var n;l.r(a);let t={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["chats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:[],operation:l(80894)}},name:"ChatHistoryList_queryRoot",selections:[{alias:"chats",args:null,concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"QueryRoot",abstractKey:null};t.hash="dde16d83009bf18f7f6de7144ec92cdc",a.default=t},77502:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],kind:"Fragment",metadata:null,name:"ChatHistoryMain_queryRoot",selections:[{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"handle",variableName:"handle"}],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null}],storageKey:null}]}],type:"QueryRoot",abstractKey:null};n.hash="0168dd45195034f4316453a39e927b15",a.default=n},19652:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatHistoryPagedList_edges",selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatHistoryListItem_chat"}],storageKey:null}],type:"ChatEdge",abstractKey:null};n.hash="e6a030d05088ef01de4d75e4fc1025a8",a.default=n},75445:function(e,a,l){"use strict";var n,t,i,s,r,o,u,d,c,g,m,y;l.r(a);let k=(n=[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],t={kind:"Variable",name:"handle",variableName:"handle"},s=[i={kind:"Literal",name:"first",value:15}],m=[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},r],storageKey:null},{alias:null,args:c=[{kind:"Literal",name:"last",value:2}],concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},r,d],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null}],storageKey:null},r],storageKey:"messagesConnection(last:2)"},{alias:null,args:c,filters:null,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},d,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},g,r],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},r],y=[i,t],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"chatsHistoryPageQuery",selections:[{args:[t,{kind:"Variable",name:"useBot",variableName:"useBot"}],kind:"FragmentSpread",name:"ChatHistoryMain_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"chatsHistoryPageQuery",selections:[{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{alias:null,args:s,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:m,storageKey:"chats(first:15)"},{alias:null,args:s,filters:null,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{alias:"filteredChats",args:y,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:m,storageKey:null},{alias:"filteredChats",args:y,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[u,r,o],storageKey:null}]}]},params:{id:"b7667758091ca3bc8ecd751047b1d564604c6c22c3165224f018959fd79fcb29",metadata:{},name:"chatsHistoryPageQuery",operationKind:"query",text:null}});k.hash="644c3d8a9763c5519f4571d7a689ec86",a.default=k},42050:function(e,a,l){"use strict";var n=l(85893),t=l(67294),i=l(34616),s=l(11781),r=l.n(s),o=l(30791);a.Z=e=>{let{header:a,startAtBottom:l,children:s}=e,u=(0,t.useRef)(null);return(0,n.jsxs)(n.Fragment,{children:[a,(0,n.jsx)(o.f.Provider,{value:u,children:(0,n.jsx)("div",{ref:u,className:(0,i.$)(r().scrollSection,l&&r().startAtBottom),children:(0,n.jsx)("div",{className:r().column,children:s})})})]})}},75658:function(e,a,l){"use strict";var n=l(85893),t=l(46931),i=l.n(t),s=l(44254),r=l(72306);a.Z=e=>(0,n.jsx)(s.Z,{leftNavItem:(0,n.jsx)(r.Z,{className:i().sidebarButton}),...e})},44254:function(e,a,l){"use strict";var n=l(85893),t=l(34616),i=l(32600),s=l.n(i),r=l(21209);a.Z=e=>(0,n.jsxs)(r.Z,{className:(0,t.$)(e.useChatTitle?s().chatTitleNavbar:s().navbar,e.className),children:[(0,n.jsx)("div",{className:s().leftNavItem,children:e.leftNavItem}),(0,n.jsx)("div",{className:e.useChatTitle?s().chatTitleItem:s().titleItem,children:"title"in e?(0,n.jsx)("h1",{className:s().headerTitle,children:e.title}):e.children}),(0,n.jsx)("div",{className:s().rightNavItem,children:e.rightNavItem})]})},72306:function(e,a,l){"use strict";l.d(a,{Z:function(){return h}});var n,t=l(85893),i=l(67294),s=l(16990),r=l(34616),o=l(46217),u=l.n(o),d=l(69295);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}var g=function(e){return i.createElement("svg",c({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1ZM2 12a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1ZM2 18a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Z"})))},m=l(61340),y=l.n(m),k=e=>{let{className:a,...l}=e;return(0,t.jsx)(d.t9,{className:(0,r.$)(y().button,a),...l,children:(0,t.jsx)(g,{className:y().hamburgerIcon})})},h=e=>{let{className:a}=e,{setLeftSidebar:l}=(0,s.Qp)(),n=(0,i.useCallback)(()=>{l(()=>s.PI.OPEN)},[l]);return(0,t.jsx)(k,{onClick:n,className:(0,r.$)(u().button,a),"aria-label":"toggle sidebar"})}},82435:function(e,a,l){"use strict";var n=l(85893),t=l(67294),i=l(69295),s=l(34616),r=l(22424),o=l.n(r);a.Z=(0,t.forwardRef)((e,a)=>{let{text:l,selected:t=!1,className:r,...u}=e;return(0,n.jsx)(i.Xd,{className:(0,s.$)(o().chipButton,r),"aria-current":t,ref:a,...u,children:l})})},16392:function(e,a,l){"use strict";var n=l(85893),t=l(67294),i=l(34616),s=l(13333),r=l.n(s),o=l(30791);let u=e=>{let{loadMore:a,canLoadMore:l,rootMargin:n,scrollRootRef:i}=e,s=t.useRef(null),r=(0,t.useContext)(o.f),u=void 0!==i?i:r;return(0,t.useEffect)(()=>{var e;if(!s.current||!l)return;let t=new IntersectionObserver(e=>{e[0].isIntersecting&&a()},{root:null!==(e=null==u?void 0:u.current)&&void 0!==e?e:null,threshold:0,rootMargin:n});return t.observe(s.current),()=>{t.disconnect()}},[a,l,n,u]),s},d=(e,a,l)=>"".concat(!a&&l?e:0,"px ").concat(a&&!l?e:0,"px ")+"".concat(a||l?0:e,"px ").concat(a&&l?e:0,"px");a.Z=e=>{let{children:a,className:l,loadMore:t,hasMore:s,isLoading:o,loadingState:c=null,error:g,errorState:m=null,threshold:y,horizontal:k=!1,reverse:h=!1,scrollRootRef:p}=e,f=u({loadMore:t,canLoadMore:s&&!o&&!g,rootMargin:d(y,k,h),scrollRootRef:p}),F=g?m:(0,n.jsx)("div",{ref:f,className:r().pagingTrigger,children:o&&c});return(0,n.jsxs)("div",{className:(0,i.$)(r().container,k&&r().horizontal,l),children:[h&&F,a,!h&&F]})}},57509:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return M}});var n=l(85893),t=l(22120);l(44311);var i=l(11163),s=l(67294),r=l(22578),o=l(19029),u=l(6488),d=l(69295),c=l(60841),g=l.n(c),m=e=>{let{bot:a,clearFilter:i,noResults:s=!1}=e,o=(0,r.useFragment)(l(20039),a),{t:u}=(0,t.$G)(),c=u(s?"You don't have any chats that include {{displayName}}.":"You've viewed all chats that include {{displayName}}.",{displayName:null==o?void 0:o.displayName});return(0,n.jsxs)("div",{className:g().container,children:[o&&(0,n.jsx)("p",{children:c}),(0,n.jsx)(d.oM,{onClick:i,children:u("Clear filter")})]})},y=l(82435),k=l(88478),h=l.n(k),p=e=>{let{bot:a,clearFilter:i}=e,s=(0,r.useFragment)(l(27558),a),{t:o}=(0,t.$G)();return(0,n.jsxs)("div",{className:h().container,children:[s&&(0,n.jsx)(y.Z,{text:s.displayName,selected:!0}),(0,n.jsx)(d.oM,{onClick:i,children:o("Clear filter")})]})},f=l(16392),F=l(53231),b=l.n(F),_=l(91731),K=e=>{let{edges:a,loadNext:t,hasNext:i,isLoadingNext:o}=e,u=(0,r.useFragment)(l(19652),a),[d,c]=(0,s.useState)(null),g=(0,s.useCallback)(()=>{t(10,{onComplete:e=>{e&&c(e)}})},[t]);return(0,n.jsx)(f.Z,{className:b().mainSection,loadMore:g,hasMore:i,isLoading:o,error:!!d,threshold:1e3,children:u.map(e=>(0,n.jsx)(_.Z,{chat:e.node},e.node.id))})},C=e=>{let{root:a,onFilterClear:t}=e,{data:i,loadNext:o,hasNext:u,isLoadingNext:d}=(0,r.usePaginationFragment)(l(31233),a),[c,g]=(0,s.useState)(!0),y=(0,s.useCallback)(()=>{g(!1),null==t||t()},[t]);return(0,n.jsxs)("div",{children:[c&&(0,n.jsx)(p,{bot:i.bot,clearFilter:y}),(0,n.jsx)(K,{edges:i.filteredChats.edges,loadNext:o,hasNext:u,isLoadingNext:d}),c&&(0,n.jsx)(m,{bot:i.bot,clearFilter:y,noResults:0===i.filteredChats.edges.length})]})},L=l(47392),v=l(52779),S=l.n(v),N=e=>{let{root:a,setRefetchFullList:i}=e,{data:o,loadNext:u,hasNext:c,isLoadingNext:g,refetch:m}=(0,r.usePaginationFragment)(l(22256),a),{t:y}=(0,t.$G)();return((0,s.useEffect)(()=>{m&&i(m)},[i,m]),0===o.chats.edges.length)?(0,n.jsxs)("div",{className:S().emptyContainer,children:[(0,n.jsx)("p",{children:y("You don't have any chats.")}),(0,n.jsxs)(d.oM,{href:"/",children:[(0,n.jsx)(L.Z,{}),y("New chat")]})]}):(0,n.jsx)(K,{edges:o.chats.edges,loadNext:u,hasNext:c,isLoadingNext:g})},x=e=>{var a,t;let{root:d}=e,c=(0,r.useFragment)(l(77502),d),[g,m]=(0,s.useState)(),y=(0,i.useRouter)(),k=(0,s.useCallback)(()=>{var e;g?(y.replace("/chats",void 0,{shallow:!0}),g({})):y.push("/chats"),(0,o.Z)("poe/action_log",{action_type:u.Z.clear_chat_history_page_filter,bot_id:null===(e=c.bot)||void 0===e?void 0:e.botId})},[null===(a=c.bot)||void 0===a?void 0:a.botId,g,y]);return(null===(t=c.bot)||void 0===t?void 0:t.botId)?(0,n.jsx)(C,{root:c,onFilterClear:k}):(0,n.jsx)(N,{root:c,setRefetchFullList:m})},I=l(42050),T=l(75658),H=l(50515),B=l(19440),j=l(19547),P=l(38726),V=l(50530);let R=(0,j.x)((0,B.Z)((0,P.i)(e=>{let{data:a}=e,{t:l}=(0,t.$G)();return(0,n.jsxs)(I.Z,{header:(0,n.jsx)(T.Z,{title:l("History")}),children:[(0,n.jsx)(H.Z,{title:l("History")}),(0,n.jsx)(x,{root:a})]})},{query:l(75445),variables:e=>{let a=e.bot;return(0,V.HD)(a)?{handle:a,useBot:!0}:{handle:"",useBot:!1}}},{loggedInOnly:!0,loggedOutGatedAccess:!0})));var M=R},52779:function(e){e.exports={emptyContainer:"ChatHistoryList_emptyContainer__ju5Ha"}},60841:function(e){e.exports={container:"ChatHistoryListFilterFooter_container__KMEvP"}},88478:function(e){e.exports={container:"ChatHistoryListFilterHeader_container__E8CjK"}},53231:function(e){e.exports={mainSection:"ChatHistoryPagedList_mainSection__h7IQR"}},11781:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",column:"MainColumn_column__UEunw",startAtBottom:"MainColumn_startAtBottom__KeM8B"}},46931:function(e){e.exports={sidebarButton:"MainNavbar_sidebarButton__5RC3i"}},32600:function(e){e.exports={navbar:"BaseNavbar_navbar__IqOxl",chatTitleNavbar:"BaseNavbar_chatTitleNavbar__JROLE",leftNavItem:"BaseNavbar_leftNavItem__dm85A",rightNavItem:"BaseNavbar_rightNavItem__3DfWJ",titleItem:"BaseNavbar_titleItem__IQ3_j",chatTitleItem:"BaseNavbar_chatTitleItem__GtrXf",headerTitle:"BaseNavbar_headerTitle__DF3y3"}},46217:function(e){e.exports={button:"ToggleSidebarButton_button__2yFLU"}},22424:function(e){e.exports={chipButton:"Chip_chipButton__dc9hf"}},13333:function(e){e.exports={container:"InfiniteScroll_container__PHsd4",horizontal:"InfiniteScroll_horizontal__i7SXE",pagingTrigger:"InfiniteScroll_pagingTrigger__cdz9I"}},61340:function(e){e.exports={button:"ToggleButton_button__Kwe2x",hamburgerIcon:"ToggleButton_hamburgerIcon__bxJlW"}}},function(e){e.O(0,[1664,3253,5675,5232,2119,6503,9507,6392,9774,2888,179],function(){return e(e.s=86867)}),_N_E=e.O()}]);