(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(97494)}])},73491:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotPill_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BotImage_bot"}],type:"Bot",abstractKey:null};n.hash="a3a285a08a05f995a37ad202f3cedcde",a.default=n},14972:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"BotSelectorHomeMain_displayBotEdges",selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"BotPill_bot"}],storageKey:null}],type:"BotEdge",abstractKey:null};n.hash="d88f928ebf98b148fc733c00880fb1ca",a.default=n},50417:function(e,a,l){"use strict";var n,i,t,s;l.r(a);let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"botId"}],kind:"Fragment",metadata:null,name:"ChatHomeMainInputContainerOptimisticBotQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"botId",variableName:"botId"}],concreteType:"Bot",kind:"LinkedField",name:"botById",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_bot"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHomeMainInputContainerOptimisticBotQuery",selections:[{alias:null,args:i,concreteType:"Bot",kind:"LinkedField",name:"botById",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForLoggedOutUsage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"totalBalance",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitType",storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUserAccessBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasClearContext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"monthlyActiveUsers",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:"nullableHandle",args:null,kind:"ScalarField",name:"handle",storageKey:null},t,s={kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"poweredBy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serverBotDependenciesLimitsString",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messageTimeoutSecs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivateBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isLimitedAccess",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseBotId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasSuggestedReplies",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportsResend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasWelcomeTopics",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerIsFollower",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareLink",storageKey:null},s],storageKey:null}]},params:{id:"3cdbc57cea971d4d81ea94a995899c7bd265f49231db2fde30ba64b894ff12cd",metadata:{},name:"ChatHomeMainInputContainerOptimisticBotQuery",operationKind:"query",text:null}};r.hash="359a6235f24ad05f0b3b23b8a765ff91",a.default=r},88548:function(e,a,l){"use strict";var n,i;l.r(a);let t={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMainInputContainerOptimisticViewerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"HandleBotLandingPageInner_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ChatHomeMainInputContainerOptimisticViewerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isLoggedOutUsageEnabled",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null}],storageKey:null},{alias:"allowDragDrop",args:[{kind:"Literal",name:"gateName",value:"poe_file_drag_and_drop"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_drag_and_drop")'},{alias:"allowImages",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images")'},{alias:"allowImagesForApiBots",args:[{kind:"Literal",name:"gateName",value:"poe_allow_images_for_api_bots"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_allow_images_for_api_bots")'},{alias:"enableImageViewer",args:[{kind:"Literal",name:"gateName",value:"poe_web_image_viewer"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_image_viewer")'},{alias:null,args:null,kind:"ScalarField",name:"promptBotImageDomainWhitelist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasActiveSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebSubscriptions",storageKey:null},{alias:null,args:null,concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"expiresTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"willCancelAtPeriodEnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"purchaseRevocationReason",storageKey:null}],storageKey:null},{alias:"useNewLimitSystem",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_limit_system_frontend"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_limit_system_frontend")'},i,{alias:"enableResendButton",args:[{kind:"Literal",name:"gateName",value:"poe_resend_button_web"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_resend_button_web")'},{alias:"retryButtonEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_message_retry_button"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_message_retry_button")'},{alias:"poeMessageDropdownImageOptions",args:[{kind:"Literal",name:"gateName",value:"poe_message_dropdown_image_options"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_message_dropdown_image_options")'},{alias:"showTruncationWarning",args:[{kind:"Literal",name:"gateName",value:"poe_show_truncation_warning"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_truncation_warning")'},{alias:"decoupleBotHandleAndName",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_handle_display_name_decoupling"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_handle_display_name_decoupling")'},{alias:"improvePrivacyConfidence",args:[{kind:"Literal",name:"gateName",value:"poe_improve_privacy_confidency"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_improve_privacy_confidency")'},{alias:"enableBotMetadata",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_bot_metadata_user_view"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_bot_metadata_user_view")'},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},n],storageKey:null},{alias:"voiceInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_voice_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_voice_input")'},{alias:"fileInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload")'},{alias:"ignoreFileUploadLimit",args:[{kind:"Literal",name:"gateName",value:"ignore_poe_file_upload_limit"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"ignore_poe_file_upload_limit")'},{alias:"shouldUseRefactor",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_chat_helpers_refactor"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_chat_helpers_refactor")'},n],storageKey:null}]},params:{id:"8d145a94fb04fcf62b325878e7c1266561cde90ca91b336f4069f067beb72843",metadata:{},name:"ChatHomeMainInputContainerOptimisticViewerQuery",operationKind:"query",text:null}};t.hash="e103b5a206ed33567e4af2b481455feb",a.default=t},19311:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMainInputContainer_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatMessageInputContainer_bot"},{args:null,kind:"FragmentSpread",name:"chatHelpers_useSendNewChatMessage_bot"},{args:null,kind:"FragmentSpread",name:"optimisticChat_useCreateOptimisticChat_bot"},{args:null,kind:"FragmentSpread",name:"subscriptionHelpers_useBotLogData_bot"}],type:"Bot",abstractKey:null};n.hash="1fcc2a188c5be576c4021e9e4d2f9cd0",a.default=n},61733:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMainInputContainer_viewer",selections:[{alias:"shouldUseRefactor",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_chat_helpers_refactor"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_chat_helpers_refactor")'},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatMessageInputContainer_viewer"}],type:"Viewer",abstractKey:null};n.hash="a174632c2c20ca73733def3a8521a504",a.default=n},47195:function(e,a,l){"use strict";var n,i,t,s,r,o,u,d;l.r(a);let g=(d={alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null},{fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],kind:"Fragment",metadata:null,name:"ChatHomeMain_optimisticChatQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"sendMessage_chat",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,r={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null}],storageKey:null},{kind:"InlineDataFragmentSpread",name:"sendMessage_onSuccessUpdater_chat",selections:[t,{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[r],storageKey:null},u={kind:"InlineDataFragmentSpread",name:"getChatContentType_chat",selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"hasMarkdownRendering",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],args:null,argumentDefinitions:[]},{kind:"InlineDataFragmentSpread",name:"sendMessage_onMessageSendChatUpdate_chat",selections:[t,u],args:null,argumentDefinitions:[]},{kind:"ClientExtension",selections:[d]}],args:null,argumentDefinitions:[]}],storageKey:null}]}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHomeMain_optimisticChatQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:i,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[t,s,d,{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[t,r,o],storageKey:null}],storageKey:null}]}]},params:{cacheID:"3144299252ad300ca6894cb9778cedbc",id:null,metadata:{},name:"ChatHomeMain_optimisticChatQuery",operationKind:"query",text:null}});g.hash="e12a14cd73a6bd3b608d80fbdd237de4",a.default=g},62313:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMain_useLoginEffect_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"primaryEmail",storageKey:null},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showDownloadAndroidAppPrompt",storageKey:null}],type:"Viewer",abstractKey:null};n.hash="1fa2dcb4af48db691ce61f944d0ae13d",a.default=n},99366:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHomeMain_viewer",selections:[{alias:"noOfCarouselsLimit",args:[{kind:"Literal",name:"gateName",value:"poe_number_of_category_carousels_on_home_page"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_number_of_category_carousels_on_home_page")'},{alias:"botsPerCarouselLimit",args:[{kind:"Literal",name:"gateName",value:"poe_number_of_bots_per_category_in_category_carousel"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_number_of_bots_per_category_in_category_carousel")'},{alias:"enableCarouselsOnNewHomePage",args:[{kind:"Literal",name:"gateName",value:"poe_enable_carousels_on_new_home_page"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_carousels_on_new_home_page")'},{args:null,kind:"FragmentSpread",name:"ChatHomeMainInputContainer_viewer"},{args:null,kind:"FragmentSpread",name:"ChatHomeMain_useLoginEffect_viewer"},{args:null,kind:"FragmentSpread",name:"useBotSelector_viewer"},{args:null,kind:"FragmentSpread",name:"ChatSubscriptionPaywallContextWrapper_viewer"}],type:"Viewer",abstractKey:null};n.hash="d82e7c124b5d898441ab31934924bb44",a.default=n},47796:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SprigSurvey_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null}],type:"Viewer",abstractKey:null};n.hash="3754aeacd298f6c96313e086d278b0cb",a.default=n},66153:function(e,a,l){"use strict";var n,i,t,s,r,o;l.r(a);let u={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"pagesLandingPageQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHomeMain_viewer"},{args:null,kind:"FragmentSpread",name:"SprigSurvey_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"pagesLandingPageQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"noOfCarouselsLimit",args:[{kind:"Literal",name:"gateName",value:"poe_number_of_category_carousels_on_home_page"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_number_of_category_carousels_on_home_page")'},{alias:"botsPerCarouselLimit",args:[{kind:"Literal",name:"gateName",value:"poe_number_of_bots_per_category_in_category_carousel"}],kind:"ScalarField",name:"integerGate",storageKey:'integerGate(gateName:"poe_number_of_bots_per_category_in_category_carousel")'},{alias:"enableCarouselsOnNewHomePage",args:[{kind:"Literal",name:"gateName",value:"poe_enable_carousels_on_new_home_page"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_carousels_on_new_home_page")'},{alias:"shouldUseRefactor",args:[{kind:"Literal",name:"gateName",value:"poe_web_enable_chat_helpers_refactor"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_enable_chat_helpers_refactor")'},{alias:null,args:null,concreteType:"PoeUser",kind:"LinkedField",name:"poeUser",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creationTime",storageKey:null}],storageKey:null},{alias:"voiceInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_web_voice_input"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_web_voice_input")'},{alias:"fileInputEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_file_upload"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_file_upload")'},{alias:"ignoreFileUploadLimit",args:[{kind:"Literal",name:"gateName",value:"ignore_poe_file_upload_limit"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"ignore_poe_file_upload_limit")'},{alias:"useNewLimitSystem",args:[{kind:"Literal",name:"gateName",value:"poe_use_new_limit_system_frontend"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_use_new_limit_system_frontend")'},{alias:null,args:null,kind:"ScalarField",name:"isLoggedOutUsageEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primaryEmail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showDownloadAndroidAppPrompt",storageKey:null},n,{alias:null,args:i=[{kind:"Literal",name:"first",value:3}],concreteType:"BotsConnection",kind:"LinkedField",name:"availableBotsConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"BotEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"node",plural:!1,selections:[n,t={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},n],storageKey:"availableBotsConnection(first:3)"},{alias:null,args:i,filters:null,handle:"connection",key:"HomeBotSelector_viewer_availableBotsConnection",kind:"LinkedHandle",name:"availableBotsConnection"},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[n,o,{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"expiresTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"willCancelAtPeriodEnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"purchaseRevocationReason",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebSubscriptions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeWebSubscriptionAnnouncement",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldSeeResponseSpeedUpsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uid",storageKey:null}],storageKey:null}]},params:{id:"5ded6fc9b319d6704ec61abf0547bcd3916af97ef8e2ea483811a24d43a0fec6",metadata:{},name:"pagesLandingPageQuery",operationKind:"query",text:null}};u.hash="871eeb1f85b83db65ce0ba3b48b3a582",a.default=u},58613:function(e,a,l){"use strict";var n,i,t;l.r(a);let s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"useBotSelectorBotQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useBotSelector_bot"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useBotSelectorBotQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null}],type:"Bot",abstractKey:null}],storageKey:null}]},params:{id:"ca70bf52a27fcef3ae03cf0d9f079b4c0080088553f5808cdcf1f8eb8861416e",metadata:{},name:"useBotSelectorBotQuery",operationKind:"query",text:null}};s.hash="17e1176b8f01b0f3b0fd989adc98d86e",a.default=s},11593:function(e,a,l){"use strict";var n,i,t,s,r,o,u;l.r(a);let d={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:3,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:null,name:"useBotSelectorViewerBotsPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:i=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"useBotSelector_viewer"}],storageKey:null}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useBotSelectorViewerBotsPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:i,concreteType:"BotsConnection",kind:"LinkedField",name:"availableBotsConnection",plural:!1,selections:[{alias:null,args:null,concreteType:"BotEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"node",plural:!1,selections:[t,s={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"UrlBotImage",abstractKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:i,filters:null,handle:"connection",key:"HomeBotSelector_viewer_availableBotsConnection",kind:"LinkedHandle",name:"availableBotsConnection"},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[t,u,{alias:null,args:null,kind:"ScalarField",name:"limitedAccessType",storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canSend",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowSubscriptionRationale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dailyLimit",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"numMessagesRemaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowRemainingMessageCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessageLimit",kind:"LinkedField",name:"messageUsageLimit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shouldPromptSubscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowLimitInfoBanner",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"balanceTooltipText",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSystemBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"isDown",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uploadFileSizeLimit",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"baseModelDisplayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isApiBot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"introduction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"a671384d415691e13e9771934ca7a2f679cf974131480f4883ffffac0169e610",metadata:{},name:"useBotSelectorViewerBotsPaginationQuery",operationKind:"query",text:null}};d.hash="38ba1694da67f3bb6a82c026501045ae",a.default=d},6276:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:l(58613),identifierField:"id"}},name:"useBotSelector_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatSubscriptionPaywallContextWrapper_bot"},{args:null,kind:"FragmentSpread",name:"ChatHomeMainInputContainer_bot"}],type:"Bot",abstractKey:null};n.hash="17e1176b8f01b0f3b0fd989adc98d86e",a.default=n},56629:function(e,a,l){"use strict";var n,i;l.r(a);let t=(i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:3,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:n=["availableBotsConnection"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:n},fragmentPathInResult:["viewer"],operation:l(11593)}},name:"useBotSelector_viewer",selections:[i,{alias:"availableBotsConnection",args:null,concreteType:"BotsConnection",kind:"LinkedField",name:"__HomeBotSelector_viewer_availableBotsConnection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"BotEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BotSelectorHomeMain_displayBotEdges"},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"node",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBot",plural:!1,selections:[i,{args:null,kind:"FragmentSpread",name:"useBotSelector_bot"}],storageKey:null}],type:"Viewer",abstractKey:null});t.hash="38ba1694da67f3bb6a82c026501045ae",a.default=t},77573:function(e,a,l){"use strict";l.d(a,{f:function(){return s},i:function(){return r}});var n=l(67294),i=l(22578);let t=async()=>{if(window.Sprig)return window.Sprig;let{sprig:e}=await l.e(2141).then(l.bind(l,59236));return e.configure({environmentId:"OFiT3eT6FKrU"})},s=e=>{let a=(0,i.useFragment)(l(47796),e);(0,n.useEffect)(()=>{t().then(e=>{a.uid&&e("setUserId","".concat(a.uid))})},[a.uid])},r=async()=>{let e=await t();e("logoutUser")}},20308:function(e,a,l){"use strict";var n=l(67294);a.Z=()=>{let[e,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{a(!0)},[a]),e}},97494:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return ey}});var n=l(85893),i=l(5152),t=l.n(i),s=l(11163);l(44311);var r=l(41143),o=l.n(r),u=l(67294),d=l(22120),g=l(22578),c=l(69295),m=l(31263),p=l.n(m),y=l(47547),k=(0,u.forwardRef)((e,a)=>{let{bot:i,isSelected:t,onClick:s}=e,r=(0,g.useFragment)(l(73491),i),o=(0,u.useCallback)(()=>{s(r.id)},[r,s]);return(0,n.jsxs)(c.oM,{className:p().pill,"aria-current":t,onClick:o,ref:a,children:[(0,n.jsx)(y.Z,{bot:r,size:12,className:p().botImage}),r.displayName]})}),_=l(41019),b=l(81261),F=l(31642),S=l.n(F);let f=()=>Promise.all([l.e(4433),l.e(5950)]).then(l.bind(l,74433)),K=(0,u.memo)(e=>{let{onBotSelect:a}=e,[l,i]=(0,u.useState)(!1),{t}=(0,d.$G)(),s=(0,u.useCallback)(e=>{i(!0),e.preventDefault()},[i]),r=(0,u.useCallback)(()=>{i(!1)},[i]),o=(0,u.useCallback)((e,l)=>{e.preventDefault(),i(!1),setTimeout(()=>a(l),1)},[i,a]),g=(0,u.useMemo)(()=>({closeModal:r,onSelectorItemClick:o}),[r,o]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c.oM,{onClick:s,children:[(0,n.jsx)(b.Z,{}),t("More")]}),(0,n.jsx)(_.Z,{isOpen:l,onRequestClose:r,body:f,bodyProps:g,modalHeight:400,useMinHeight:!0})]})});K.displayName="AllBotsButtonPill";var h=e=>{let{selectedBotId:a,displayBotEdges:i,onBotSelect:t}=e,s=(0,g.useFragment)(l(14972),i),r=u.useRef(null);return u.useEffect(()=>{var e;null==r||null===(e=r.current)||void 0===e||e.scrollIntoView({block:"nearest",inline:"center"})},[a]),(0,n.jsxs)("div",{className:S().botPillWrapper,children:[s.map(e=>(0,n.jsx)(k,{bot:e.node,isSelected:e.node.id===a,onClick:t,ref:e.node.id===a?r:void 0},e.node.id)),(0,n.jsx)(K,{onBotSelect:t})]})},w=l(37650),v=e=>{var a;let{data:n}=(0,g.usePaginationFragment)(l(56629),e),[i,t]=(0,g.useRefetchableFragment)(l(6276),n.defaultBot),s=null===(a=n.availableBotsConnection)||void 0===a?void 0:a.edges,[r,d]=(0,u.useState)(s[0].node.id),c=(0,g.useRelayEnvironment)(),m=(0,u.useCallback)(e=>{(0,g.commitLocalUpdate)(c,a=>{(0,w.rY)(a,e)}),d(e),(0,u.startTransition)(()=>{t({id:e})})},[c,t]),p=(0,u.useMemo)(()=>s.find(e=>e.node.id===r)||s[0],[s,r]);o()(p&&p.node,"selectedEdge is ".concat(p));let y=(0,u.useMemo)(()=>{let e=s.slice(0,3),a=e.map(e=>e.node.id);return a.includes(r)?e:[p,...e].slice(0,3)},[s,r,p]);return o()(null!==i,"Selected Bot Data is ".concat(i)),{displayBotEdges:y,selectedBotId:r,deferredSelectedBotData:i,onBotSelect:m}},L=l(50922),C=l(75704),B=l(2197),N=l(3597),I=l(81534),T=l(21851),x=l(71289),M=l(55554),P=l(57138),G=l(55625),D=l(81333),R=l.n(D),H=l(74766),E=l(77614),j=l(50515),O=l(78739);let U=t()(()=>Promise.all([l.e(5840),l.e(4502)]).then(l.bind(l,82646)),{loadableGenerated:{webpack:()=>[82646]},ssr:!1,loading:()=>(0,n.jsx)(C.Sz,{})}),A=t()(()=>Promise.all([l.e(5840),l.e(9746)]).then(l.bind(l,12178)),{loadableGenerated:{webpack:()=>[12178]},ssr:!1,loading:()=>(0,n.jsx)(C.Sz,{})}),V=()=>l.e(9452).then(l.bind(l,59452)),Q=e=>{let{bot:a,viewer:i}=e,{t}=(0,d.$G)(),r=(0,g.useFragment)(l(19311),a),{shouldUseRefactor:c,...m}=(0,g.useFragment)(l(61733),i);if(!m.poeUser)throw new P.TX;let p=(0,g.useRelayEnvironment)();(0,u.useEffect)(()=>{let e=(0,g.loadQuery)(p,l(50417),{botId:r.botId});return()=>e.dispose()},[r.botId,p]),(0,u.useEffect)(()=>{let e=(0,g.loadQuery)(p,l(88548),{});return()=>e.dispose()},[p]);let y=(0,s.useRouter)(),k=(0,u.useCallback)(e=>{let{messageEdgeCreate:a}=e,l=a.chat;o()(l,"chat is null"),y.replace("?chat=".concat(l.chatCode,"&botId=").concat(l.defaultBotObject.botId),"chat/".concat(l.chatCode),{shallow:!0})},[y]),_=(0,x.ZD)(r,k),b=(0,M.F5)(r),{shouldPromptSubscription:F,openPaywall:S}=(0,O.rk)(),{logClick:f}=(0,I.B)(r),K=(0,u.useCallback)(()=>{f(E.Z.limited_access_bot),S()},[f,S]),h=(0,B.ZP)(),w=(0,u.useContext)(x.cq),v=(0,u.useCallback)(async(e,a,n)=>{var i,t,s;let u=null===(t=e.current)||void 0===t?void 0:null===(i=t.getValue())||void 0===i?void 0:i.trim();if(!u)return;let d={sourceType:"chat_input",chatInputMetadata:{useVoiceRecord:(null===(s=a.current)||void 0===s?void 0:s.getVoiceInputUsed())||!1,newChatContext:H.Z.home_page_input}},m=b();if(y.push("?optimisticChatId=".concat(m,"&botId=").concat(r.botId),"/",{shallow:!0}),c){let e=await (0,g.fetchQuery)(p,l(47195),{optimisticChatId:m},{fetchPolicy:"store-or-network"}).toPromise();o()(null==e?void 0:e.optimisticChat,"Optimistic chat ".concat(m," not found in store")),(0,T.b)({environment:p,chat:e.optimisticChat,prompt:u,files:n,source:d,setToast:h,onSuccessfulMessageSend:k,shouldUpdateChatHistory:!w.isEmbed})}else _({prompt:u,files:n,source:d,optimisticChatId:m})},[_,r.botId,b,y,c,h,p,k,w]),C=(0,u.useRef)(null);return(0,n.jsx)("div",{className:R().inputContainer,onClick:F?K:void 0,children:(0,n.jsx)(L.Z,{ref:C,viewer:m,placeholderText:t("Start a new chat"),bot:r,edges:null,onSubmitMessage:v,isBotResponding:!1})})},Z=e=>{let{viewer:a}=e,i=(0,g.useFragment)(l(62313),a),[t,r]=(0,u.useState)(!1),c=(0,s.useRouter)(),m=(0,B.ZP)(),{t:p}=(0,d.$G)();(0,u.useEffect)(()=>{i.showDownloadAndroidAppPrompt&&r(!0)},[]),(0,u.useEffect)(()=>{if(c.query.login_success){var e;let a=(null===(e=i.poeUser)||void 0===e?void 0:e.fullName)||i.primaryEmail;o()(!!a,"Name or email should be present for logged-in user."),m({content:p("Logged-in as {{nameOrEmail}}.",{nameOrEmail:a}),type:B.pC.success}),(0,G.CS)(c,"login_success")}},[]);let y=(0,u.useCallback)(()=>{r(!1)},[r]),k=(0,u.useMemo)(()=>({closeModal:y}),[y]);return{downloadAppModal:(0,n.jsx)(_.Z,{isOpen:t,onRequestClose:y,body:V,bodyProps:k})}};var q=e=>{let{viewer:a}=e,i=(0,g.useFragment)(l(99366),a),{displayBotEdges:t,selectedBotId:s,deferredSelectedBotData:r,onBotSelect:o}=v(i),{downloadAppModal:d}=Z({viewer:i});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{title:"Poe"}),(0,n.jsxs)("div",{className:R().container,children:[(0,n.jsx)(N.Z,{className:R().logo,priority:!0}),(0,n.jsx)(h,{displayBotEdges:t,selectedBotId:s,onBotSelect:o}),(0,n.jsx)(O.ZP,{bot:r,viewer:i,children:(0,n.jsx)(Q,{bot:r,viewer:i})})]}),i.enableCarouselsOnNewHomePage&&(0,n.jsx)("div",{className:R().exploreBotsCarousel,children:(0,n.jsx)(u.Suspense,{fallback:(0,n.jsx)(C.Sz,{}),children:i.noOfCarouselsLimit>0?(0,n.jsx)(U,{noOfCarouselsLimit:i.noOfCarouselsLimit,botsPerCarouselLimit:i.botsPerCarouselLimit}):(0,n.jsx)(A,{botsPerCarouselLimit:i.botsPerCarouselLimit})})}),d]})},z=l(42050),W=l(96850),X=l.n(W),$=l(44254),J=l(72306),Y=l(52239),ee=l(19440),ea=l(19547),el=l(74929),en=l(38726),ei=l(46857),et=l(77573),es=l(50530),er=l(20308),eo=l(37115);let eu=t()(()=>Promise.all([l.e(8496),l.e(3435),l.e(6957),l.e(9837),l.e(1172),l.e(2813)]).then(l.bind(l,12813)),{loadableGenerated:{webpack:()=>[12813]},ssr:!1}),ed=t()(()=>Promise.all([l.e(8496),l.e(3435),l.e(6957),l.e(9837),l.e(278),l.e(8985),l.e(5725)]).then(l.bind(l,58985)),{loadableGenerated:{webpack:()=>[58985]},ssr:!1}),eg=(0,n.jsx)(e=>(0,n.jsx)($.Z,{leftNavItem:(0,n.jsx)(J.Z,{className:X().sidebarButton}),className:X().navbar,...e}),{title:""}),ec=()=>{let e=(0,s.useRouter)(),{optimisticChatId:a,botId:l,chat:n}=e.query;if(!(0,es.HD)(l))return null;let i=parseInt(l);return isNaN(i)?null:(0,es.HD)(n)?{chatCode:n,botId:i}:(0,es.HD)(a)?{optimisticChatId:a,botId:i}:null},em=()=>{let e=(0,er.Z)(),a=ec();return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eu,{...a}),(0,n.jsx)(ed,{...a})]}):null},ep=(0,ea.x)((0,ee.Z)((0,en.i)(e=>{let{data:a}=e,l=(0,eo.F)(),{query:{redirectUrl:i}}=(0,s.useRouter)();if((0,el.au)(l)&&"/close_window"!==i){let e=(0,Y.D6)();throw new P.dD(e)}let{viewer:t}=a,r=ec();return(0,ei.Rz)(),(0,et.f)(t),(0,n.jsxs)(n.Fragment,{children:[!r&&(0,n.jsxs)(z.Z,{header:eg,children:[(0,n.jsx)(j.Z,{title:""}),(0,n.jsx)(q,{viewer:t})]}),(0,n.jsx)(em,{})]})},{query:l(66153)},{loggedInOnly:!0}),e=>{let{botId:a}=e;if(!(0,es.HD)(a))return null;let l=parseInt(a);return isNaN(l)?null:{botId:l}}));var ey=ep},31263:function(e){e.exports={botImage:"BotPill_botImage__FvRpl",pill:"BotPill_pill__R_zO5"}},31642:function(e){e.exports={botPillWrapper:"BotSelectorHomeMain_botPillWrapper___6pXq"}},81333:function(e){e.exports={container:"ChatHomeMain_container__l4uRf",logo:"ChatHomeMain_logo__OZxiw",inputContainer:"ChatHomeMain_inputContainer__9mgRh",exploreBotsCarousel:"ChatHomeMain_exploreBotsCarousel__wddju",exploreBotsCarouselContainer:"ChatHomeMain_exploreBotsCarouselContainer__iA_nh"}},96850:function(e){e.exports={navbar:"SmallDeviceMainNavbar_navbar__8kCn8",sidebarButton:"SmallDeviceMainNavbar_sidebarButton__ovJIZ"}}},function(e){e.O(0,[1664,3253,5675,5232,2119,6503,9507,6392,2846,7714,9849,9774,2888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);